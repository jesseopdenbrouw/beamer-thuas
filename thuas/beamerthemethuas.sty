%%
%%
%% beamerthemethuas.sty
%%
%% Definitions for the beamer layout for
%%
%% The Hague University of Applied Sciences (THUAS)
%%
%% (c) J. op den Brouw  <J.E.J.opdenBrouw@hhs.nl>
%%
%%
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%%   http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of LaTeX
%% version 2005/12/01 or later.
%%
%% This work has the LPPL maintenance status `maintained'.
%% 
%% The Current Maintainer of this work is J.E.J. op den Brouw
%%

%% Version
\newcommand{\beamerthemethuasversion}{v1.0}
\newcommand{\beamerthemethuasdate}{2021/08/21}

%\NeedsTeXFormat{LaTeX2e}[2021-06-01]
\ProvidesPackage{beamerthemethuas}[\beamerthemethuasdate\space \beamerthemethuasversion\space The Hague University of Applied Sciences theme]
\typeout{The Hague University of Applied Sciences theme \beamerthemethuasversion\space (JodB, 2021)}

%% Do not center
\beamer@centeredfalse

%% Full or vanilla
\newif\ifbeamerthemethuas@full
\beamerthemethuas@fulltrue

%% Use number of pages
\newif\ifbeamerthemethuas@numpages
\beamerthemethuas@numpagesfalse

%% Options `c', `t', `full', `vanilla'
\DeclareOption{t}{\beamer@centeredfalse}
\DeclareOption{c}{\beamer@centeredtrue}
\DeclareOption{full}{\beamerthemethuas@fulltrue}
\DeclareOption{vanilla}{\beamerthemethuas@fullfalse}
\DeclareOption{numpages}{\beamerthemethuas@numpagestrue}

%% Process options, ignore unknown
\ProcessOptions\relax

%% Check if babel is loaded
\@ifpackageloaded{babel}{}{%
  \PackageWarning{beamerthemethuas}{Babel not loaded prior to loading theme!}%
}

\mode<presentation>

%% Requirement
\RequirePackage{tikz}

%% Load settings
\useinnertheme{thuas}
\useoutertheme{thuas}
\usecolortheme{thuas}

%% THIS MUST BE IN A SEPARATE FONT FILE
%% Check if we must load the fonts
\ifbeamerthemethuas@full
%% Find out what engine we're running...
\usepackage{iftex}
%% Settings for fonts et al.
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi>0
\usepackage[math-style=TeX]{unicode-math}
%\usepackage{unicode-math}
\usepackage{fontspec}
\setmainfont[Ligatures=TeX]{Arial}
\defaultfontfeatures{Scale=MatchUppercase}
\setsansfont[BoldFont={Arial Black}]{Arial}
\setmonofont{Consolas}
%\setmathfont[slash-delimiter=frac]{Cambria Math}
\setmathfont{Cambria Math}
%% Needed to get \mathrm{e} typeset correct
\setmathrm{Cambria Math}
\setoperatorfont\normalfont % For log, sin, cos, etc.
\else
%%% Set input encoding to UTF-8
\usepackage[utf8]{inputenc}
%% T1 encoding
\usepackage[T1]{fontenc}
% Math package from Charter
%\usepackage{libertinus}
\usefonttheme[onlymath]{serif}
%%% Default to helvet
\usepackage{helvet}
%% Use the Nimbus Mono fonts
\usepackage{nimbusmono}
\fi
\fi

%% Simple last slide of the presentation
\newcommand{\beamerthemethuasbackframe}{%
  \setbeamercolor{background canvas}{bg=thuasgreen}
  \setbeamertemplate{footline}{}
  %\setbeamercolor{normal text}{fg=white} % does not work?
  \begin{frame}
    \begin{tikzpicture}
      \useasboundingbox (-0.435\paperwidth,-1) [yshift=-2.3cm] rectangle (\the\paperwidth,\the\tph);
      \node at (0,0) {\color{white}\bfseries\fontsize{35}{35}\selectfont let's change};
    \end{tikzpicture}
  \end{frame}
}

%% Just a nice touch...
\hypersetup{pdfcreator={LaTeX with THUAS Beamer theme}}

\mode<all>
